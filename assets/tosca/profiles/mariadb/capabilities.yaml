tosca_definitions_version: tosca_simple_yaml_1_3

imports:

- namespace_prefix: k8s
  file: ../kubernetes/1.18/profile.yaml

capability_types:

  Connectable:
    derived_from: k8s:Resource

  # See: https://github.com/abalki001/mariadb-operator/tree/master/deploy
  Cluster:
    metadata:
      turandot.apiVersion: mariadb.persistentsys/v1alpha1
      turandot.kind: MariaDB
    derived_from: Connectable
    properties:
      database:
        description: >-
          New Database name
        type: string
      image:
        description: >-
          Image name with version
        type: string
        default: mariadb/server:10.3
      password:
        description: >-
          Database additional user password (base64 encoded)
        type: string
      rootpwd:
        description: >-
          Root user password
        type: string
      size:
        description: >-
          Size is the size of the deployment
        type: integer
        default: 1
      username:
        description: >-
          Database additional user details (base64 encoded)
        type: string
    attributes:
      nodes:
        description: >-
          Nodes are the names of the pods
        type: list
        entry_schema: string
