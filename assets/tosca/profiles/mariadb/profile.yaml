tosca_definitions_version: tosca_simple_yaml_1_3

metadata:

  puccini.scriptlet.import|kubernetes.resources-plugins.mariadb: js/plugins/resources.js

namespace: cloud.puccini.mariadb

imports:

- namespace_prefix: k8s
  file: ../kubernetes/1.18/profile.yaml

node_types:

  # See: https://github.com/abalki001/mariadb-operator/tree/master/deploy
  Cluster:
    properties:
      database:
        description: >-
          New Database name
        type: string
      image:
        description: >-
          Image name with version
        type: string
        default: mariadb/server:10.3
      password:
        description: >-
          Database additional user password (base64 encoded)
        type: string
      rootpwd:
        description: >-
          Root user password
        type: string
      size:
        description: >-
          Size is the size of the deployment
        type: integer
        default: 1
      username:
        description: >-
          Database additional user details (base64 encoded)
        type: string
    attributes:
      nodes:
        description: >-
          Nodes are the names of the pods
        type: list
        entry_schema: string
    capabilities:
      metadata: k8s:Metadata
      connection: Connectable

capability_types:

  Connectable:
    attributes: {}
